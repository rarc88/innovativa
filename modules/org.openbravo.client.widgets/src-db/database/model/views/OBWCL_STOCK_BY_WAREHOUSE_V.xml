<?xml version="1.0"?>
  <database name="VIEW OBWCL_STOCK_BY_WAREHOUSE_V">
    <view name="OBWCL_STOCK_BY_WAREHOUSE_V"><![CDATA[SELECT sd.m_product_id || sd.m_storage_detail_id AS obwcl_stock_by_warehouse_v_id, p.ad_client_id, p.isactive, p.created, p.createdby, p.updated, p.updatedby, o.ad_org_id, o.name AS orgname, w.m_warehouse_id, w.name AS warehousename, p.m_product_id, p.value, p.name AS productname, pc.m_product_category_id, pc.name AS categoryname, u.name AS uomname, sd.description, sd.qtyonhand FROM (SELECT max(sd_1.m_storage_detail_id) AS m_storage_detail_id, sd_1.m_product_id, sd_1.c_uom_id, l.m_warehouse_id, a.description, sum(sd_1.qtyonhand) AS qtyonhand FROM m_storage_detail sd_1 JOIN m_locator l ON sd_1.m_locator_id = l.m_locator_id JOIN m_attributesetinstance a ON sd_1.m_attributesetinstance_id = a.m_attributesetinstance_id WHERE COALESCE(sd_1.qtyonhand, 0) <> 0 OR COALESCE(sd_1.qtyorderonhand, 0) <> 0 GROUP BY sd_1.m_product_id, sd_1.c_uom_id, l.m_warehouse_id, a.description HAVING sum(sd_1.qtyonhand) <> 0 OR sum(sd_1.qtyorderonhand) <> 0) sd JOIN m_product p ON sd.m_product_id = p.m_product_id JOIN m_product_category pc ON p.m_product_category_id = pc.m_product_category_id JOIN m_warehouse w ON sd.m_warehouse_id = w.m_warehouse_id JOIN ad_org o ON w.ad_org_id = o.ad_org_id JOIN c_uom u ON sd.c_uom_id = u.c_uom_id WHERE p.isactive = 'Y' AND p.isstocked = 'Y']]></view>
  </database>
