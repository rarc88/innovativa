<?xml version="1.0"?>
  <database name="VIEW SSPR_RPT_ASIENTONOMINA_PROV">
    <view name="SSPR_RPT_ASIENTONOMINA_PROV"><![CDATA[SELECT CASE sca.isdebe WHEN 'Y' THEN cvc1.alias ELSE NULL END AS cuenta, CASE sca.isdebe WHEN 'Y' THEN to_char(substr(cp.name, 1, 6)) ELSE NULL END AS tercero, CASE sca.isdebe WHEN 'Y' THEN cvc1.description ELSE NULL END AS descripcion, CASE sca.isdebe WHEN 'Y' THEN to_char('D') ELSE NULL END AS movimiento, CASE sca.isdebe WHEN 'Y' THEN to_number(sptc.amount) ELSE NULL END AS debe, CASE sca.ishaber WHEN 'Y' THEN 0 ELSE NULL END AS haber, to_number(sptc.amount) AS valor, to_char((sc.name || ' - ') || cb.name) AS detalle, cpr.name AS periodo, sptc.sspr_payroll_ticket_id AS sspr_rpt_asientonomina_prov_id, sptc.ad_client_id, sptc.ad_org_id, sptc.created, sptc.createdby, sptc.updated, sptc.updatedby, to_char(sptc.isactive) AS isactive FROM sspr_payroll_ticket_concept sptc LEFT JOIN sspr_payroll_ticket spt ON sptc.sspr_payroll_ticket_id = spt.sspr_payroll_ticket_id LEFT JOIN sspr_payroll sp ON spt.sspr_payroll_id = sp.sspr_payroll_id LEFT JOIN sspr_concept sc ON sptc.sspr_concept_id = sc.sspr_concept_id LEFT JOIN c_bpartner cb ON spt.c_bpartner_id = cb.c_bpartner_id LEFT JOIN c_project cp ON cb.em_sspr_project_id = cp.c_project_id LEFT JOIN sspr_concept_acct sca ON sptc.sspr_concept_id = sca.sspr_concept_id LEFT JOIN c_period cpr ON sp.c_period_id = cpr.c_period_id LEFT JOIN c_validcombination cvc1 ON sca.c_credit_acct = cvc1.c_validcombination_id WHERE sca.isaccountpayroll = 'Y' AND sptc.amount <> 0 UNION ALL SELECT CASE sca.ishaber WHEN 'Y' THEN cvc1.alias ELSE NULL END AS cuenta, CASE sca.ishaber WHEN 'Y' THEN '' ELSE NULL END AS tercero, CASE sca.ishaber WHEN 'Y' THEN cvc1.description ELSE NULL END AS descripcion, CASE sca.ishaber WHEN 'Y' THEN to_char('H') ELSE NULL END AS movimiento, CASE sca.isdebe WHEN 'Y' THEN 0 ELSE NULL END AS debe, CASE sca.ishaber WHEN 'Y' THEN to_number(sptc.amount) ELSE NULL END AS haber, to_number(sptc.amount) AS valor, to_char((sc.name || ' - ') || cb.name) AS detalle, cpr.name AS periodo, sptc.sspr_payroll_ticket_id AS sspr_rpt_asientonomina_prov_id, sptc.ad_client_id, sptc.ad_org_id, sptc.created, sptc.createdby, sptc.updated, sptc.updatedby, to_char(sptc.isactive) AS isactive FROM sspr_payroll_ticket_concept sptc LEFT JOIN sspr_payroll_ticket spt ON sptc.sspr_payroll_ticket_id = spt.sspr_payroll_ticket_id LEFT JOIN sspr_payroll sp ON spt.sspr_payroll_id = sp.sspr_payroll_id LEFT JOIN sspr_concept sc ON sptc.sspr_concept_id = sc.sspr_concept_id LEFT JOIN c_bpartner cb ON spt.c_bpartner_id = cb.c_bpartner_id LEFT JOIN c_project cp ON cb.em_sspr_project_id = cp.c_project_id LEFT JOIN sspr_concept_acct sca ON sptc.sspr_concept_id = sca.sspr_concept_id LEFT JOIN c_validcombination cvc1 ON sca.c_credit_acct = cvc1.c_validcombination_id LEFT JOIN c_period cpr ON sp.c_period_id = cpr.c_period_id WHERE sca.isaccountpayroll = 'Y' AND sptc.amount <> 0 ORDER BY 8]]></view>
  </database>
